workflows {

  dwca_term_values {

    yaml = "dwca_term_values.yaml"

    title = "Darwin Core Archive Field Value Counter"
    documentation = "https://github.com/kurator-org/kurator-validation/wiki/Darwin-Core-Archive-Field-Value-Counter"
    summary = "Given a list of field names (e.g., country|stateProvince), creates reports of the distinct values of those fields and the number of times they occur in a Darwin Core archive found at a given URL."

    instructions = """
        Enter the URL of a valid Darwin Core Archive. This archive will be downloaded
        and processed in the workflow.
        """

    parameters {

      dwca_url.type = "text"
      dwca_url.label = "URL"
      dwca_url.description = "A URL that points to a valid Darwin Core archive"

      fieldlist.type = "text"
      fieldlist.label = "Field list"
      fieldlist.description = "A list of field for which to count distinct values (e.g., 'country|stateProvince')"

    }

    artifacts {

      output_file.label = "The human readable label of this artifact"
      output_file.description = "A description of the contents of this file"
      output_file.type = "text/csv"

    }

  }

  file_term_values {

    yaml = "file_term_values.yaml"

    title = "CSV File Field Value Counter"
    documentation = "https://github.com/kurator-org/kurator-validation/wiki/CSV-File-Field-Value-Counter"
    summary = "Given a list of field names (e.g., country|stateProvince), creates reports of the distinct values of those fields and the number of times they occur in an uploaded file."

    instructions = """
        Select a tab-delimited or CSV file to upload. This file will be processed in
        the workflow. Select an output format ('csv' or 'txt') for the output file(s).
        """

    parameters {

      inputfile.type = "upload"
      inputfile.label = "Upload file"
      inputfile.description = "Upload a text file to Darwinize"

      fieldlist.type = "text"
      fieldlist.label = "Field list"
      fieldlist.description = "A list of field for which to count distinct values (e.g., 'country|stateProvince')"

      format.type = "select"
      format.label = "Output Format"
      format.description = "Format for the output file"

      format.options = {
        "csv" : "csv",
        "txt" : "txt"
      }

    }

    artifacts {

      output_file.label = "The human readable label of this artifact"
      output_file.description = "A description of the contents of this file"
      output_file.type = "text/csv"

    }

  }

  dwca_assess_controlled_terms {

    yaml = "dwca_controlled_term_assessor.yaml"

    title = "Darwin Core Archive Controlled Field Assessor"
    documentation = "https://github.com/kurator-org/kurator-validation/wiki/Darwin-Core-Archive-Controlled-Field-Assessor"
    summary = "Creates reports for Darwin Core fields that are supposed to have controlled values. Reports include counts of distinct values and recommendations for those that can be found in the vocabulary files."

    instructions = """
        Enter the URL of a valid Darwin Core Archive. This archive will be downloaded
        and processed in the workflow.
        """

    parameters {

      dwca_url.type = "text"
      dwca_url.label = "URL"
      dwca_url.description = "A URL that points to a Darwin Core archive"

    }

    artifacts {

      output_file.label = "The human readable label of this artifact"
      output_file.description = "A description of the contents of this file"
      output_file.type = "text/csv"

    }

  }

  file_assess_controlled_terms {

    yaml = "file_controlled_term_assessor.yaml"

    title = "CSV File Controlled Field Assessor"
    documentation = "https://github.com/kurator-org/kurator-validation/wiki/CSV-File-Controlled-Field-Assessor"
    summary = "Creates reports for Darwin Core fields that are supposed to have controlled values. Reports include counts of distinct values and recommendations for those that can be found in the vocabulary files."

    instructions = """
        Select a tab-delimited or CSV file to upload. This file will be processed in
        the workflow. Select an output format ('csv' or 'txt') for the output file(s).
        """

    parameters {

      inputfile.type = "upload"
      inputfile.label = "Upload file"
      inputfile.description = "Upload a text file to assess"

      format.type = "select"
      format.label = "Output Format"
      format.description = "Format for the output file"

      format.options = {
        "csv" : "csv",
        "txt" : "txt"
      }

    }

    artifacts {

      output_file.label = "The human readable label of this artifact"
      output_file.description = "A description of the contents of this file"
      output_file.type = "text/csv"

    }

  }

  dwca_assess_geography {

    yaml = "dwca_geography_assessor.yaml"

    title = "Darwin Core Archive Geography Assessor"
    documentation = "https://github.com/kurator-org/kurator-validation/wiki/Darwin-Core-Archive-Geography-Assessor"
    summary = "Creates reports for Darwin Core higher geography fields. Reports include counts of distinct values and recommendations for those that can be found in the vocabulary files."

    instructions = """
        Enter the URL of a valid Darwin Core Archive. This archive will be downloaded
        and processed in the workflow.
        """

    parameters {

      dwca_url.type = "text"
      dwca_url.label = "URL"
      dwca_url.description = "A URL that points to a Darwin Core archive"

    }

    artifacts {

      output_file.label = "The human readable label of this artifact"
      output_file.description = "A description of the contents of this file"
      output_file.type = "text/csv"

    }

  }

  dwca_clean_geography {

    yaml = "dwca_geography_cleaner.yaml"

    title = "Darwin Core Archive Geography Cleaner"
    documentation = "https://github.com/kurator-org/kurator-validation/wiki/Darwin-Core-Archive-Geography-Cleaner"
    summary = "Creates reports for Darwin Core higher geography fields. Reports include counts of distinct values and recommendations for those that can be found in the vocabulary files. Also creates an output file that replaces values of Darwin Core geography fields with standardized values and adds fields to include the original field values."

    instructions = """
        Enter the URL of a valid Darwin Core Archive. This archive will be downloaded
        and processed in the workflow.
        """

    parameters {

      dwca_url.type = "text"
      dwca_url.label = "URL"
      dwca_url.description = "A URL that points to a Darwin Core archive"

    }

    artifacts {

      output_file.label = "The human readable label of this artifact"
      output_file.description = "A description of the contents of this file"
      output_file.type = "text/csv"

    }

  }

  file_clean_geography {

    yaml = "file_geography_cleaner.yaml"

    title = "CSV File Geography Cleaner"
    documentation = "https://github.com/kurator-org/kurator-validation/wiki/CSV-File-Geography-Cleaner"
    summary = "Creates reports for Darwin Core higher geography fields. Reports include counts of distinct values and recommendations for those that can be found in the vocabulary files. Also creates an output file that replaces values of Darwin Core geography fields with standardized values and adds fields to include the original field values."

    instructions = """
        Select a tab-delimited or CSV file to upload. This file will be processed in
        the workflow. Select the format (csv or txt) for the output file.
        """

    parameters {

      inputfile.type = "upload"
      inputfile.label = "Upload file"
      inputfile.description = "Upload a text file to Darwinize"

      outputfile.type = "text"
      outputfile.label = "Output file name"
      outputfile.description = "A file name for the new file with cleaned geography to create"

      format.type = "select"
      format.label = "Output Format"
      format.description = "Format for the output file"

      format.options = {
        "csv" : "csv",
        "txt" : "txt"
      }

    }

    artifacts {

      output_file.label = "The human readable label of this artifact"
      output_file.description = "A description of the contents of this file"
      output_file.type = "text/csv"

    }

  }

  darwinize_workflow {

    yaml = "darwinize_file.yaml"

    title = "CSV File Darwinizer"
    documentation = "https://github.com/kurator-org/kurator-validation/wiki/CSV-File-Darwinizer"
    summary = "Create a file that substitutes standard Darwin Core field names for the fields in an input file."

    instructions = """
        Select a tab-delimited or CSV file to upload. This file will be processed in
        the workflow. Select the format (csv or txt) for the output file. Select
        whether to prepend the namespace (e.g., 'dwc:') to fields that could be
        interpreted as Darwin Core fields.
        """

    parameters {

      inputfile.type = "upload"
      inputfile.label = "Upload file"
      inputfile.description = "Upload a text file to Darwinize"

      format.type = "select"
      format.label = "Output Format"
      format.description = "Format for the output file"

      format.options = {
        "csv" : "csv",
        "txt" : "txt"
      }

      dwcnamespace.type = "select"
      dwcnamespace.label = "Add namespace"
      dwcnamespace.description = "Namespace to prepend to fields"

      dwcnamespace.options = {
        "n" : "no",
        "y" : "yes"
      }
    }
  }

  vocabulary_maker_workflow {

    yaml = "vocabulary_maker.yaml"

    title = "Vocabulary Maker"
    documentation = "https://github.com/kurator-org/kurator-validation/wiki/Vocabulary-Maker"
    summary = "Create a vocabulary file from the distinct values of a given list of fields in an input file."

    instructions = """
        Select a tab-delimited or CSV file to upload. This file will be processed in
        the workflow. Select the format (csv or txt) for the output file. Select
        whether to prepend the namespace (e.g., 'dwc:') to fields that could be
        interpreted as Darwin Core fields.
        """

    parameters {

      inputfile.type = "upload"
      inputfile.label = "Upload file"
      inputfile.description = "Upload a text file to Darwinize"

      vocabfile.type = "text"
      vocabfile.label = "Vocabulary file name"
      vocabfile.description = "A file name for the vocabulary file to create"

      termlist.type = "text"
      termlist.label = "Fields from input file"
      termlist.description = "A list of fields in the input file to use as the key combination in the vocabulary file (e.g., recordedBy). To use a combination of fields, separate them with '|' (e.g., genus|specificEpithet)."

      key.type = "text"
      key.label = "Field name for vocabulary"
      key.description = "The name to use for the vocabulary key field (e.g., collector)"

    }
  }

  file_aggregator_workflow {

    yaml = "file_aggregator.yaml"

    title = "CSV File Aggregator"
    documentation = "https://github.com/kurator-org/kurator-validation/wiki/CSV-File-Aggregator"
    summary = "Create a file that combines two separate input files with the distinct columns and all records from both."

    instructions = """
        Select a two tab-delimited or CSV files to upload. These file will be processed in
        the workflow. Select the name and format (csv or txt) for the output file.
        """

    parameters {

      inputfile1.type = "upload"
      inputfile1.label = "Upload first file"
      inputfile1.description = "Upload a text file to aggreagate"

      inputfile2.type = "upload"
      inputfile2.label = "Upload second file"
      inputfile2.description = "Upload a text file to aggreagate"

      outputfile.type = "text"
      outputfile.label = "Output file name"
      outputfile.description = "A name for the aggregated file to create"

      format.type = "select"
      format.label = "Output Format"
      format.description = "Format for the output file"

      format.options = {
        "csv" : "csv",
        "txt" : "txt"
      }
    }
  }
}
